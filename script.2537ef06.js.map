{"version":3,"sources":["scripts/script.js"],"names":["dataUrl","fetch","then","response","json","data","result","elements","map","item","createCard","list","document","querySelector","page","li","createElement","insertAdjacentHTML","amount","genIndexAmount","amountHTML","name_prod","license_name","link","getSale","getMinAmount","appendChild","querySelectorAll","forEach","btn","addEventListener","download","amount_html","split","is_best","arrow","navigator","userAgent","indexOf","append","setTimeout","style","visibility"],"mappings":";AAAA,aAyHC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAtHD,IAAMA,EAAUC,MAAM,2CAEtBD,EACGE,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BF,KAAK,SAACG,GACOA,EAAKC,OAAOC,SAEpBC,IAAI,SAACC,GAASC,OAAAA,EAAWD,OAGjC,IAAME,EAAOC,SAASC,cAAc,UAC9BC,EAAOF,SAASC,cAAc,SAEpC,SAASH,EAAWL,GACZU,IAAAA,EAAKH,SAASI,cAAc,MAElCD,EAAGE,mBAAmB,YAISZ,kIAAAA,OAAAA,EAAKa,OACIC,kDAAAA,OAAAA,EAAed,GAE7Ce,yCAAAA,OAAAA,EAAWf,GAGaA,iGAAAA,OAAAA,EAAKgB,UACFhB,kDAAAA,OAAAA,EAAKiB,aAIvBjB,gIAAAA,OAAAA,EAAKkB,KAMhBC,oGAAAA,OAAAA,EAAQnB,GACRoB,cAAAA,OAAAA,EAAapB,GAtBrB,yBAyBAM,EAAKe,YAAYX,GAEbH,EAAAA,SAASe,iBAAiB,kBAAkBC,QAAQ,SAAAC,GACtDA,EAAIC,iBAAiB,QAAS,WAC5BC,QAKN,SAASZ,EAAed,GAClBA,OAAAA,EAAK2B,YACA,KAGF,WAGT,SAASZ,EAAWf,GACdA,OAAAA,EAAK2B,YAC6B3B,6BAAAA,OAAAA,EAAK2B,YAAYC,MAAM,KAAK,GAAhE,WAEA,GAIJ,SAAST,EAAQnB,GACXA,OAAAA,EAAK2B,YACP,2BAEA,GAIJ,SAASP,EAAapB,GAChBA,OAAAA,EAAK6B,QACP,wHAMA,GAIJ,SAASH,IACDI,IAAAA,EAAQvB,SAASI,cAAc,QAEW,IAA5CoB,UAAUC,UAAUC,QAAQ,WAC9BH,EAAMlB,mBAAmB,YAAzB,uEAIoD,IAA3CmB,UAAUC,UAAUC,QAAQ,WACrCH,EAAMlB,mBAAmB,YAAzB,gEAM8C,IAA5CmB,UAAUC,UAAUC,QAAQ,WAC9BH,EAAMlB,mBAAmB,YAAzB,iEAIoD,IAA3CmB,UAAUC,UAAUC,QAAQ,WACrCH,EAAMlB,mBAAmB,YAAzB,yDAMFH,EAAKyB,OAAOJ,GAEZK,WAAW,WACTL,EAAMM,MAAMC,WAAa,UACxB","file":"script.2537ef06.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// eslint-disable-next-line no-undef\nconst dataUrl = fetch('https://myjson.dit.upm.es/api/bins/ckb3');\n\ndataUrl\n  .then(response => response.json())\n  .then((data) => {\n    const arr = data.result.elements;\n\n    arr.map((item) => createCard(item));\n  });\n\nconst list = document.querySelector('.cards');\nconst page = document.querySelector('.page');\n\nfunction createCard(data) {\n  const li = document.createElement('li');\n\n  li.insertAdjacentHTML('beforeend', `\n      <div class=\"card\">\n        <div class=\"price-wrapper\">\n          <div class=\"price\">\n            <p class=\"amount\">$${data.amount}</p>\n            <span class=\"amount-index\">/${genIndexAmount(data)}</span>\n          </div>\n          ${amountHTML(data)}\n        </div>\n        <div class=\"name-prod-wrapper\">\n          <span class=\"name-prod\">${data.name_prod}</span>\n          <span class=\"license-name\">${data.license_name}</span>\n          <button class=\"btn-download\"\n          >\n            <a class=\"btn-download-link\" \n              href=${data.link}\n            >\n          Download\n          </a>\n        </button>\n        </div>\n        ${getSale(data)}\n        ${getMinAmount(data)}\n      </div>\n    `);\n  list.appendChild(li);\n\n  [...document.querySelectorAll('.btn-download')].forEach(btn => {\n    btn.addEventListener('click', () => {\n      download();\n    });\n  });\n}\n\nfunction genIndexAmount(data) {\n  if (data.amount_html) {\n    return 'mo';\n  }\n\n  return 'per year';\n};\n\nfunction amountHTML(data) {\n  if (data.amount_html) {\n    return `<span class=\"amount-sale\">${data.amount_html.split(' ')[0]}</span>`;\n  } else {\n    return ``;\n  }\n};\n\nfunction getSale(data) {\n  if (data.amount_html) {\n    return `<div class=\"sale\"></div>`;\n  } else {\n    return ``;\n  }\n}\n\nfunction getMinAmount(data) {\n  if (data.is_best) {\n    return `\n        <div class=\"best-value\">\n          <span class=\"best-value-text\">best value</span>\n        </div>\n      `;\n  } else {\n    return ``;\n  }\n}\n\nfunction download() {\n  const arrow = document.createElement('div');\n\n  if (navigator.userAgent.indexOf('Firefox') !== -1) {\n    arrow.insertAdjacentHTML('beforeend', `\n          <div class=\"arrowFirefox\">\n          </div>\n        `);\n  } else if (navigator.userAgent.indexOf('Chrome') !== -1) {\n    arrow.insertAdjacentHTML('beforeend', `\n        <div class=\"arrowChrome\">\n        </div>\n      `);\n  }\n\n  if (navigator.userAgent.indexOf('Firefox') !== -1) {\n    arrow.insertAdjacentHTML('beforeend', `\n        <div class=\"arrowFirefox\">\n        </div>\n      `);\n  } else if (navigator.userAgent.indexOf('Chrome') !== -1) {\n    arrow.insertAdjacentHTML('beforeend', `\n      <div class=\"arrowChrome\">\n      </div>\n    `);\n  }\n\n  page.append(arrow);\n\n  setTimeout(() => {\n    arrow.style.visibility = 'hidden';\n  }, 4000);\n};\n"]}